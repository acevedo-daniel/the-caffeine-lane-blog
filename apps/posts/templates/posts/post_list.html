{% extends 'base.html' %}

{% block title %}Lista de Posts - Blog{% endblock %} {# Para el <title> de la página #}

{% block content %} {# Este bloque iría dentro del <main> o similar en base.html #}
    <h1>Últimos Posts</h1>
    {% for post in posts %}
        <div>
            <h2>{{ post.title }}</h2>
            <p>Por {{ post.author.username }} el {{ post.created_at|date:"d/m/Y H:i" }}</p>
            <p>{{ post.content|truncatewords:30 }}</p>
            {% if post.image %} {# Solo muestra la imagen si existe #}
                <img src="{{ post.image.url }}" alt="{{ post.title }}" style="max-width: 100%; height: auto;">
            {% endif %}
        </div>
        <hr>
    {% empty %}
        <p>No hay posts aún.</p>
    {% endfor %}
{% endblock %}